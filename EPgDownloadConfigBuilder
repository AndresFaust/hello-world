/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */

package EPg;


import de.flapdoodle.embed.process.config.store.DownloadPath;
import de.flapdoodle.embed.process.extract.UUIDTempNaming;
import de.flapdoodle.embed.process.io.directories.UserHome;
import de.flapdoodle.embed.process.io.progress.StandardConsoleProgressListener;
import ru.yandex.qatools.embed.postgresql.Command;
import ru.yandex.qatools.embed.postgresql.PackagePaths;


/**
 * Download config builder for postgres
 */
public class EPgDownloadConfigBuilder extends de.flapdoodle.embed.process.config.store.DownloadConfigBuilder {

    public EPgDownloadConfigBuilder defaultsForCommand(Command command) {
		fileNaming().setDefault(new UUIDTempNaming());
    downloadPath().setDefault(new DownloadPath("http://this-domain-does-not-exists.foo"));
		progressListener().setDefault(new StandardConsoleProgressListener());
		packageResolver().setDefault(new PackagePaths(command));
		artifactStorePath().setDefault(new UserHome(".embedpostgres"));
		downloadPrefix().setDefault(new DownloadPrefix("posgresql-download"));
		userAgent().setDefault(new UserAgent("Mozilla/5.0 (compatible; Embedded postgres; +https://github.com/yandex-qatools)"));
		return this;
	}

}
